
country_codes = {
    "Afghanistan" 	:"AF",
    "Albania"	:"AL", 
    "Algeria"	:"DZ", 
    "American Samoa" 	:"AS", 
    "Andorra" 	:"AD", 
    "Angola" 	:"AO", 
    "Anguilla" 	:"AI", 
    "Antarctica" 	:"AQ", 
    "Antigua and Barbuda"	:"AG", 
    "Argentina"	:"AR", 
    "Armenia" 	:"AM", 
    "Aruba" 	:"AW", 
    "Australia" :"AU", 
    "Austria"	:"AT", 
    "Azerbaijan":"AZ", 
    "Bahamas" 	:"BS", 
    "Bahrain" 	:"BH", 
    "Bangladesh":"BD", 
    "Barbados" 	:"BB", 
    "Belarus" 	:"BY", 
    "Belgium" 	:"BE", 
    "Belize" 	:"BZ", 
    "Benin" 	:"BJ", 
    "Bermuda" 	:"BM", 
    "Bhutan" 	:"BT", 
    "Bolivia": 	"BO", 
    "Bonaire Sint Eustatius and Saba": 	"BQ", 
    "Bosnia and Herzegovina": 	"BA", 
    "Botswana": 	"BW", 
    "Bouvet Island": 	"BV", 
    "Brazil": 	"BR", 
    "British Indian Ocean Territory (the)": 	"IO", 
    "Brunei": 	"BN", 
    "Bulgaria": 	"BG", 
    "Burkina Faso": 	"BF", 
    "Burundi": 	"BI", 
    "Cabo Verde": 	"CV", 
    "Cambodia": 	"KH", 
    "Cameroon": 	"CM", 
    "Canada": 	"CA", 
    "Cayman Islands (the)": 	"KY", 
    "Central African Republic (the)": 	"CF", 
    "Chad": 	"TD", 
    "Chile": 	"CL", 
    "China": 	"CN", 
    "Christmas Island": 	"CX", 
    "Cocos (Keeling) Islands (the)": 	"CC", 
    "Colombia": 	"CO", 
    "Comoros (the)": 	"KM", 
    "Congo (the Democratic Republic of the)": 	"CD",
    "Congo (the)": 	"CG",
    "Cook Islands (the)": 	"CK",
    "Costa Rica": 	"CR",
    "Croatia": 	"HR",
    "Cuba": 	"CU",
    "Curaçao": 	"CW",
    "Cyprus": 	"CY",
    "Czechia": 	"CZ",
    "Côte d'Ivoire": 	"CI",
    "Denmark": 	"DK",
    "Djibouti": 	"DJ",
    "Dominica": 	"DM",
    "Dominican Republic (the)": 	"DO",
    "Ecuador": 	"EC",
    "Egypt": 	"EG",
    "El Salvador": 	"SV",
    "Equatorial Guinea": 	"GQ",
    "Eritrea": 	"ER",
    "Estonia": 	"EE",
    "Eswatini": 	"SZ",
    "Ethiopia": 	"ET",
    "Falkland": 	"FK",
    "Faroe": "FO",
    "Fiji": 	"FJ",
    "Finland": 	"FI",
    "France": 	"FR", 
    "French Guiana": 	"GF", 
    "French Polynesia": 	"PF", 
    "French": 	"TF", 
    "Gabon" :	"GA", 
    "Gambia (the)" :	"GM", 
    "Georgia" :	"GE", 
    "Germany" :	"DE", 
    "Ghana" :	"GH", 
    "Gibraltar" :	"GI", 
    "Greece" :	"GR", 
    "Greenland" :	"GL", 
    "Grenada" :	"GD", 
    "Guadeloupe" :	"GP", 
    "Guam" :	"GU",
    "Guatemala" :	"GT",
    "Guernsey" :	"GG", 
    "Guinea" :	"GN", 
    "Guinea-Bissau" :	"GW", 
    "Guyana" :	"GY", 
    "Haiti" :	"HT", 
    "Heard Island and McDonald Islands" :	"HM", 
    "Holy See (the)" :	"VA", 
    "Honduras" :	"HN", 
    "Hong Kong" :	"HK", 
    "Hungary" :	"HU", 
    "Iceland" :	"IS", 
    "India" :	"IN", 	
    "Indonesia" :	"ID", 
    "Iran" :	"IR", 
    "Iraq" :	"IQ", 
    "Ireland" :	"IE", 
    "Isle of Man" :	"IM", 
    "Israel" :	"IL", 
    "Italy" :	"IT", 
    "Jamaica" :	"JM", 
    "Japan" :	"JP", 
    "Jersey" :	"JE", 
    "Jordan" :	"JO", 
    "Kazakhstan" :	"KZ", 
    "Kenya" :	"KE", 
    "Kiribati" :	"KI", 
    "Korea (the Democratic People's Republic of)" :	"KP", 
    "Korea (the Republic of)" :	"KR", 
    "Kuwait" :	"KW", 
    "Kyrgyzstan" :	"KG", 
    "Lao People's Democratic Republic (the)" :	"LA", 
    "Latvia" :	"LV", 
    "Lebanon" :	"LB", 
    "Lesotho" :	"LS", 
    "Liberia" :	"LR", 
    "Libya" :	"LY", 
    "Liechtenstein" :	"LI",
    "Lithuania" :	"LT", 
    "Luxembourg" :	"LU", 
    "Macao" :	"MO", 
    "Malaysia" :	"MY", 
    "Maldives" :	"MV", 
    "Mali" :	"ML", 
    "Malta" :	"MT", 
    "Marshall Islands (the)" :	"MH", 
    "Martinique" :	"MQ", 
    "Mauritania" :	"MR", 
    "Mauritius" :	"MU", 
    "Mayotte" :	"YT", 
    "Mexico" :	"MX", 
    "Micronesia (Federated States of)" :	"FM", 
    "Moldova (the Republic of)" :	"MD", 
    "Monaco" :	"MC", 
    "Mongolia" :	"MN", 
    "Montenegro" :	"ME", 
    "Montserrat" :	"MS", 
    "Morocco" :	"MA", 
    "Mozambique" :	"MZ", 
    "Myanmar" :	"MM", 
    "Namibia" :	"NA", 
    "Nauru" :	"NR", 
    "Nepal" :	"NP", 
    "Netherlands" :	"NL", 
    "New Caledonia" :	"NC", 
    "New Zealand" :	"NZ", 
    "Nicaragua" :	"NI", 
    "Niger (the)" :	"NE", 
    "Nigeria" :	"NG", 
    "Niue" :	"NU", 
    "Norfolk Island" :	"NF", 
    "Northern Mariana Islands" :	"MP",
    "Norway" :	"NO", 
    "Oman" :	"OM", 
    "Pakistan" :	"PK", 
    "Palau" :	"PW",
    "Palestine" :	"PS", 
    "Panama" :	"PA", 
    "Papua New Guinea" :	"PG", 
    "Paraguay" :	"PY", 
    "Peru" :	"PE", 
    "Philippines" :	"PH", 
    "Pitcairn" :	"PN", 
    "Poland" :	"PL", 
    "Portugal" :	"PT", 
    "Puerto Rico "	:"PR", 
    "Qatar" :	"QA", 
    "Republic of North Macedonia" :	"MK", 	
    "Romania" :	"RO", 
    "Russian Federation (the)" :	"RU", 
    "Rwanda" :	"RW", 
    "Réunion" :	"RE", 
    "Saint Barthélemy" :	"BL", 
    "Saint Helena, Ascension and Tristan da Cunha" :	"SH", 
    "Saint Kitts and Nevis" :	"KN", 
    "Saint Lucia" :	"LC", 
    "Saint Martin" :	"MF", 
    "Saint Pierre and Miquelon" :	"PM", 
    "Saint Vincent and the Grenadines" :	"VC", 
    "Samoa" :	"WS", 
    "San Marino" :	"SM", 	
    "Sao Tome and Principe" :	"ST", 	
    "Saudi Arabia" :	"SA", 
    "Senegal" :	"SN", 
    "Serbia" :	"RS", 
    "Seychelles" :	"SC", 
    "Sierra Leone" :	"SL", 
    "Singapore" :	"SG", 
    "Sint Maarten (Dutch part)" :	"SX", 
    "Slovakia" :	"SK", 	
    "Slovenia" :	"SI", 	
    "Solomon Islands" :	"SB", 	
    "Somalia" :	"SO", 	
    "South Africa" :	"ZA", 	
    "South Georgia and the South Sandwich Islands" :	"GS", 	
    "South Sudan" :	"SS", 	
    "Spain" :	"ES", 	
    "Sri Lanka" :	"LK", 	
    "Sudan (the)" :	"SD", 	
    "Suriname" :	"SR", 	
    "Svalbard and Jan Mayen" :	"SJ", 	
    "Sweden" :	"SE", 	
    "Switzerland" :	"CH", 	
    "Syrian Arab Republic" :	"SY", 	
    "Taiwan" :	"TW", 	
    "Tajikistan" :	"TJ", 	
    "Tanzania" :	"TZ", 	
    "Thailand" :	"TH", 	
    "Timor-Leste" :	"TL", 	
    "Togo" :	"TG", 	
    "Tokelau" :	"TK", 	
    "Tonga" :	"TO", 	
    "Trinidad and Tobago" :	"TT", 	
    "Tunisia" :	"TN", 	
    "Turkey" :	"TR", 	
    "Turkmenistan" :	"TM", 	
    "Turks and Caicos Islands (the)" :	"TC", 	
    "Tuvalu" :	"TV", 	
    "Uganda" :	"UG", 	
    "Ukraine" :	"UA", 	
    "United Arab Emirates (the)" :	"AE", 	
    "United Kingdom of Great Britain and Northern Ireland" :	"GB", 	
    "United States Minor Outlying Islands" :	"UM", 	
    "United States of America" :	"US", 	
    "Uruguay" :	"UY", 	
    "Uzbekistan" :	"UZ", 	
    "Vanuatu" :	"VU", 	
    "Venezuela" :	"VE", 	
    "Viet Nam" :	"VN", 	
    "Virgin Islands (British)" :	"VG", 	
    "Virgin Islands (U.S.)" :	"VI", 	
    "Wallis and Futuna" :	"WF", 	
    "Western Sahara" :	"EH", 	
    "Yemen" :	"YE", 	
    "Zambia" :	"ZM", 	
    "Zimbabwe" :	"ZW", 	
    "Åland Islands" :	"AX"
    }


$('.filter').click(function(){

    var ccs = {};
    var country_stats = {};

    var sorted_totals = [];
    var sorted_new = [];
    var sorted_total_d = [];
    var sorted_total_nd = [];
    var sorted_az = [];

    for(x in country_codes){
        ccs[country_codes[x]] = x;
    }

    for( x in $('.country-block')){
        try{
            // console.log(ccs[$('.country-block')[x].id] , $("#" + $('.country-block')[x].id).attr('class').split(' ')[1], $("#" + $('.country-block')[x].id).attr('class').split(' ')[2], $("#" + $('.country-block')[x].id).attr('class').split(' ')[3], $("#" + $('.country-block')[x].id).attr('class').split(' ')[4]);
            country_stats[ccs[$('.country-block')[x].id]] = [$("#" + $('.country-block')[x].id).attr('class').split(' ')[1], $("#" + $('.country-block')[x].id).attr('class').split(' ')[2], $("#" + $('.country-block')[x].id).attr('class').split(' ')[3], $("#" + $('.country-block')[x].id).attr('class').split(' ')[4]];
        }catch(err){
            // console.log("Country not in dict")
        }
    }

    for(x in country_stats){
        sorted_new.push([x, country_stats[x][0]]);
        sorted_totals.push([x, country_stats[x][1]]);
        sorted_total_nd.push([x, country_stats[x][2]]);
        sorted_total_d.push([x, country_stats[x][3]]);
        sorted_az.push(x);

    }

    sorted_totals.sort(function(a, b) {
        return b[1] - a[1];
    });

    sorted_new.sort(function(a, b) {
        return b[1] - a[1];
    });

    sorted_total_d.sort(function(a, b) {
        return b[1] - a[1];
    });

    sorted_total_nd.sort(function(a, b) {
        return b[1] - a[1];
    });

    sorted_total_nd.sort(function(a, b) {
        return b[1] - a[1];
    });

    sorted_az.sort();

    $(".wild").css('display', "none");
    
    if(this.id == "newcases"){
        $(".sorted").empty();
        for (var x = 0; x < sorted_new.length; x++){
            // console.log(sorted_new[x][0], sorted_new[x][1]);
            // console.log(country_stats[sorted_new[x][0]]);
    
            $(".sorted").append("<div class='country-block'><div class='row' style='height:65px;'><div class='col'><p style='padding-left:12px'>" + sorted_new[x][0] +  "</p></div>"+
            "<div class='col' style='position:relative;'><img style='position:absolute; top:-17px;right: 8px;' src='https://www.countryflags.io/" + country_codes[sorted_new[x][0]] + "/flat/64.png'></div></div>" + 
            "<p style='background-color:lightgray;border-radius:10px;padding:3px'> New Cases: <span style='color:whitesmoke;'>" + country_stats[sorted_new[x][0]][0] + 
            "</span></p><p style='background-color:lightgray;border-radius:10px;padding:3px;'>Total Cases: <span style='color:whitesmoke;'>"+country_stats[sorted_new[x][0]][1] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;'>New Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_new[x][0]][2] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;margin-bottom:0px !important;'>Total Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_new[x][0]][3] +"</span></p>" + 
            "</div></div>");
        }
    }else if(this.id == "totalcases"){
        $(".sorted").empty();
        for (var x = 0; x < sorted_totals.length; x++){
            // console.log(sorted_totals[x][0], sorted_totals[x][1]);
            // console.log(country_stats[sorted_totals[x][0]]);
    
            $(".sorted").append("<div class='country-block'><div class='row' style='height:65px;'><div class='col'><p style='padding-left:12px'>" + sorted_totals[x][0] +  "</p></div>"+
            "<div class='col' style='position:relative;'><img style='position:absolute; top:-17px;right: 8px;' src='https://www.countryflags.io/" + country_codes[sorted_totals[x][0]] + "/flat/64.png'></div></div>" + 
            "<p style='background-color:lightgray;border-radius:10px;padding:3px'> New Cases: <span style='color:whitesmoke;'>" + country_stats[sorted_totals[x][0]][0] + 
            "</span></p><p style='background-color:lightgray;border-radius:10px;padding:3px;'>Total Cases: <span style='color:whitesmoke;'>"+country_stats[sorted_totals[x][0]][1] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;'>New Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_totals[x][0]][2] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;margin-bottom:0px !important;'>Total Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_totals[x][0]][3] +"</span></p>" + 
            "</div></div>");
        }
    }else if(this.id == "totaldeaths"){
        $(".sorted").empty();
        for (var x = 0; x < sorted_total_d.length; x++){
            // console.log(sorted_total_d[x][0], sorted_total_d[x][1]);
            // console.log(country_stats[sorted_total_d[x][0]]);
    
            $(".sorted").append("<div class='country-block'><div class='row' style='height:65px;'><div class='col'><p style='padding-left:12px'>" + sorted_total_d[x][0] +  "</p></div>"+
            "<div class='col' style='position:relative;'><img style='position:absolute; top:-17px;right: 8px;' src='https://www.countryflags.io/" + country_codes[sorted_total_d[x][0]] + "/flat/64.png'></div></div>" + 
            "<p style='background-color:lightgray;border-radius:10px;padding:3px'> New Cases: <span style='color:whitesmoke;'>" + country_stats[sorted_total_d[x][0]][0] + 
            "</span></p><p style='background-color:lightgray;border-radius:10px;padding:3px;'>Total Cases: <span style='color:whitesmoke;'>"+country_stats[sorted_total_d[x][0]][1] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;'>New Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_total_d[x][0]][2] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;margin-bottom:0px !important;'>Total Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_total_d[x][0]][3] +"</span></p>" + 
            "</div></div>");
        }
    }else if(this.id == "newdeaths"){
        $(".sorted").empty();
        for (var x = 0; x < sorted_total_nd.length; x++){
            // console.log(sorted_total_nd[x][0], sorted_total_nd[x][1]);
            // console.log(country_stats[sorted_total_nd[x][0]]);
    
            $(".sorted").append("<div class='country-block'><div class='row' style='height:65px;'><div class='col'><p style='padding-left:12px'>" + sorted_total_nd[x][0] +  "</p></div>"+
            "<div class='col' style='position:relative;'><img style='position:absolute; top:-17px;right: 8px;' src='https://www.countryflags.io/" + country_codes[sorted_total_nd[x][0]] + "/flat/64.png'></div></div>" + 
            "<p style='background-color:lightgray;border-radius:10px;padding:3px'> New Cases: <span style='color:whitesmoke;'>" + country_stats[sorted_total_nd[x][0]][0] + 
            "</span></p><p style='background-color:lightgray;border-radius:10px;padding:3px;'>Total Cases: <span style='color:whitesmoke;'>"+country_stats[sorted_total_nd[x][0]][1] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;'>New Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_total_nd[x][0]][2] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;margin-bottom:0px !important;'>Total Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_total_nd[x][0]][3] +"</span></p>" + 
            "</div></div>");
        }
    }else if(this.id == "az"){
        $(".sorted").empty();
        for (var x = 0; x < sorted_az.length; x++){
            // console.log(sorted_total_nd[x][0], sorted_total_nd[x][1]);
            // console.log(country_stats[sorted_total_nd[x][0]]);
    
            $(".sorted").append("<div class='country-block'><div class='row' style='height:65px;'><div class='col'><p style='padding-left:12px'>" + sorted_az[x] +  "</p></div>"+
            "<div class='col' style='position:relative;'><img style='position:absolute; top:-17px;right: 8px;' src='https://www.countryflags.io/" + country_codes[sorted_az[x]] + "/flat/64.png'></div></div>" + 
            "<p style='background-color:lightgray;border-radius:10px;padding:3px'> New Cases: <span style='color:whitesmoke;'>" + country_stats[sorted_az[x]][0] + 
            "</span></p><p style='background-color:lightgray;border-radius:10px;padding:3px;'>Total Cases: <span style='color:whitesmoke;'>"+country_stats[sorted_az[x]][1] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;'>New Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_az[x]][2] +
            "</span></p><p style='background-color: lightgray; border-radius:10px;padding:3px;margin-bottom:0px !important;'>Total Deaths: <span style='color:whitesmoke;'>"+country_stats[sorted_az[x]][3] +"</span></p>" + 
            "</div>");
        }
    }
});


$('.minimize').click(function(){
    // $('.sd-hgt-xtnd').css('display', 'none');
    // $('.shrunkdv').css('display', 'block');
    $('.sd-hgt-xtnd').css({'cssText':'display: none !important'});
    $('.shrunkdv').css({'cssText':'display: block !important'});

});

$('.maximize').click(function(){
    // $('.shrunkdv').css('display', 'none');
    $('.shrunkdv').css({'cssText':'display: none !important'});

    $('.sd-hgt-xtnd').css({'cssText':'display: block !important'});
});
